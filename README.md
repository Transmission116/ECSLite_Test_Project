# ECSLite_Test_Project

Время затраченное на работу ~10ч.

Используемые Фреймворки 
- ESCLite
- ECSLite.Di
- Zenject

Список систем бизнес логики которые не требуют определенной среды:
- LevelInitializeSystem - Инициализация данных уровня из конфигураци LevelConstructScheme, в данном случае используется ScriptableObject, так как тестовое реализуется на движке UnityEngine. Зная какие данные необходимо отдавать в конфигурации, может быть быстро заменена на реализацию через interface и использовать любой удобный механизм хранения данных.
- PlayerInitSystem - Инициализация модели данных игрока, его позицию скорость, направление, и набор тагов определяющих его свойства, такие как CanPushTag-персонаж может нажимать. 

- PlayerDestinationSystem - Система отвечающая за определеие точки назначения игрока.
- UpdateMoveSystem - Система отвечающая за передвижение объекта
- DirectionSystem - Система отвечающая за поворот объекта в указанную сторону.

- PushableSystem - Система отвечающая за нажатие премета. 
- CheckLinkedElemsActiveSystem - Система отвечающая за определение возможности выполнения дейсвия объектом приленкованными к нажатому объекту, в данном случае объекты связаны по цвету. 
- UpdateDestPointInLinkedElementsSystem - в данном случае система выполняет четко описанное дейсвие активируемых объектов - им назначается точка назначания движения в зависимости от их параметров указанных в LevelConstructScheme.

MonoBehaviour системы:
- MonoLevelSpawnSystem - Система создающая префаб уровня и оббъектов уровня на сцене согласно данным из LevelConstructScheme
- MonoPlayerMonoSpawnSystem - Система создающая prefab игрока на сцене.
- MonoMoveViewSystem - Система отвечающая за перемещение объеектов на сцене. 
- MonoDirectionViewSystem - Система отвечающая за поворот объекта на сцене по указанному направлению. 
- MonoAnimationSystem - Система отвечающая за поигрование анимации объектом на сцене.

Внешние системы:
- LevelConstructScheme - Конфигурация уровня.
- AssetData - Данные с Ассетами игрового движка. 
- PrefabFactory - Фабрика создания объектов на сцене игровго движка. 
- GameConfiguration - Конфигурация параметров игры. 
- ITimeService - Интерфейс передающий данные о Таймерах среды. 

  Для большего разграничения игрового пространства и бизнеслогики, для внешних классов предпочтительней использовать interface как это сделано с ITimeService.

  В системах намеренно приведены разные варианты использования фильтров и пулов,как вариант кеширование в полях системы, так и варианты с спользованием EcsWorld.GetPool и EcsWorld.GetFilter, чтобы показать вариативность самой ECSLite.
По моему мнению варианты EcsWorld.GetPool и EcsWorld.GetFilter справедливы если необходимо оперировать небольшими объемами данных в противном случае я считаю что использование кешированных параметров предпочтительней. По крайней мене со слов самого создателя ECsLite. В виду того что фильтры с одинаковоми сигнатурами кешируются и хранятся в единсвеном экземпляре и шарятся между инжектами. 

С истемы разделены на IEcsRunSystem и IEcsInitSystem в виду того что сущесвуют дейсвия которые необходимо инициализировать вконтексте данного задания один раз такие как LevelInitializeSystem и PlayerInitSystem. Разделение Run и Init систем логично когда есть четкое понимание GameLoop и можно из них выделать четкое разделение на эти типы.


  Фреймворк Zenject используется для определения зависимостей между классами игрового движка и ECSLite. Пробросс ссылок внутри ECSLite происходит через eopotam.EcsLite.Di. 
  Встроенный Di позволяеn быстро и использовать проброшенные классы и структуры данных через  EcsCustomInject. 
Использование Zenject в будущем вижу как механизм для фостроения фабрик объектов как внутри самой ECS так и для MonoBehaviour классов игрового движка Юнити. 
